"use strict";(self.webpackChunkmyschool=self.webpackChunkmyschool||[]).push([[612],{2616:(b,m,a)=>{a.d(m,{d:()=>f});var o=a(1626),c=a(3953),t=a(1283);let f=(()=>{class d{constructor(i){this._http=i,this.BASEURL=t.c.apiURL,this.userSignal=(0,c.vPA)({}),this.schoolSignal=(0,c.vPA)({})}getData(i,s){return this._http.get(`${this.BASEURL}/${s}/${i}`)}getSchool(i){return this._http.get(`${this.BASEURL}/school/${i}`)}logout(i){const s=new o.Lr;return s.set("Access-Control-Allow-Origin","*"),this._http.post(this.BASEURL+"/auth/logout",{uid:i},{headers:s})}getStudentList(){const i=new o.Lr;return i.set("Access-Control-Allow-Origin","*"),this._http.get(this.BASEURL+"/student",{headers:i})}getStudents(i){const s=new o.Lr;return s.set("Access-Control-Allow-Origin","*"),this._http.get(this.BASEURL+"/student/byschool/"+i,{headers:s})}updateStudent(i){return this._http.put(this.BASEURL+"/student/",i)}getEventList(){const i=new o.Lr;return i.set("Access-Control-Allow-Origin","*"),this._http.get(this.BASEURL+"/event",{headers:i})}getEvents(i){const s=new o.Lr;return s.set("Access-Control-Allow-Origin","*"),this._http.get(this.BASEURL+"/events/byschool/"+i,{headers:s})}createEvents(i){const s=new o.Lr;return s.set("Access-Control-Allow-Origin","*"),this._http.post(this.BASEURL+"/events/",i,{headers:s})}updateEvents(i){const s=new o.Lr;return s.set("Access-Control-Allow-Origin","*"),this._http.put(this.BASEURL+"/events/",i,{headers:s})}getParentsList(){const i=new o.Lr;return i.set("Access-Control-Allow-Origin","*"),this._http.get(this.BASEURL+"/parent",{headers:i})}getParents(i){const s=new o.Lr;return s.set("Access-Control-Allow-Origin","*"),this._http.get(this.BASEURL+"/parent/byschool/"+i,{headers:s})}getTeacherList(){const i=new o.Lr;return i.set("Access-Control-Allow-Origin","*"),this._http.get(this.BASEURL+"/teacher",{headers:i})}getTeachers(i){const s=new o.Lr;return s.set("Access-Control-Allow-Origin","*"),this._http.get(this.BASEURL+"/teacher/byschool/"+i,{headers:s})}getFee(i){const s=new o.Lr;return s.set("Access-Control-Allow-Origin","*"),this._http.get(this.BASEURL+"/fee/"+i,{headers:s})}getStufee(i){const s=new o.Lr;return s.set("Access-Control-Allow-Origin","*"),this._http.get(this.BASEURL+"/stufee/byschool/"+i,{headers:s})}createStufee(i){const s=new o.Lr;return s.set("Access-Control-Allow-Origin","*"),this._http.post(this.BASEURL+"/stufee/",i,{headers:s})}uploadPhoto(i,s,p){let h=new FormData;h.append("photo",i),h.append("uid",p),h.append("type",s);const g=new o.Lr;return g.set("Access-Control-Allow-Origin","*"),g.set("Content-Type","multipart/form-data"),this._http.post(this.BASEURL+"/auth/upload",h,{headers:g})}static#t=this.\u0275fac=function(s){return new(s||d)(c.KVO(o.Qq))};static#e=this.\u0275prov=c.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()},612:(b,m,a)=>{a.r(m),a.d(m,{UserModule:()=>F});var o=a(177),c=a(7222),t=a(3953),f=a(1667),d=a(5779),C=a(1283),i=a(2616),s=a(9114),p=a(9998);function h(e,u){if(1&e&&(t.j41(0,"a",17)(1,"figure",18),t.nrm(2,"p-avatar",19),t.k0s(),t.EFF(3),t.k0s()),2&e){const n=t.XpG(2);t.R7$(2),t.FS9("image",n.schoolData.logo?n.BASEURL+"/"+n.schoolData.logo:"https://primefaces.org/cdn/primeng/images/demo/avatar/walter.jpg"),t.R7$(),t.SpI("\xa0\xa0 ",n.schoolData.name," ")}}function g(e,u){if(1&e){const n=t.RV6();t.j41(0,"div",2)(1,"button",3),t.nrm(2,"span",4),t.k0s(),t.DNE(3,h,4,2,"a",5),t.j41(4,"div",6)(5,"ul",7)(6,"li",8)(7,"a",9),t.EFF(8,"Stufee"),t.k0s()(),t.j41(9,"li",8)(10,"a",10),t.EFF(11,"Result"),t.k0s()(),t.j41(12,"li",8)(13,"a",11),t.EFF(14,"Library"),t.k0s()()(),t.j41(15,"ul",12)(16,"li",8),t.EFF(17," Mode "),t.nrm(18,"input",13),t.EFF(19," \xa0\xa0 "),t.k0s(),t.j41(20,"li",8),t.nrm(21,"p-avatar",14),t.EFF(22),t.nI1(23,"titlecase"),t.nI1(24,"titlecase"),t.j41(25,"button",15),t.bIt("click",function(){t.eBV(n);const l=t.XpG();return t.Njj(l.logoutSubmit())}),t.EFF(26,"Logut"),t.k0s()(),t.nrm(27,"li",16),t.k0s()()()}if(2&e){const n=t.XpG();t.R7$(3),t.Y8G("ngIf",n.schoolData),t.R7$(18),t.FS9("image",n.user.profile_pic?n.user.profile_pic:"https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png"),t.R7$(),t.Lme(" ",t.bMT(23,4,n.user.fname)," ",t.bMT(24,6,n.user.lname)," ")}}let A=(()=>{class e{constructor(n,r,l){this._appservice=n,this._router=r,this._message=l,this.data=sessionStorage.getItem("user"),this.BASEURL=C.c.apiURL,this.user=null}ngOnInit(){this._appservice.getData(sessionStorage.getItem("uid"),sessionStorage.getItem("type")||"").subscribe(n=>{this.user=n[0],sessionStorage.setItem("school_id",this.user.school_id),this._appservice.getSchool(this.user.school_id).subscribe(r=>{this.schoolData=r.results[0]})})}logoutSubmit(){let n=sessionStorage.getItem("uid");n&&this._appservice.logout(n).subscribe(r=>{sessionStorage.clear(),this._message.add({severity:"success",summary:"logout Success!",detail:"Message Content"}),this._router.navigate([""])})}static#t=this.\u0275fac=function(r){return new(r||e)(t.rXU(i.d),t.rXU(c.Ix),t.rXU(d.bg))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-inner-header"]],features:[t.Jv_([d.bg])],decls:3,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","full-width",2,"padding","0"],["class","container-fluid d-flex",4,"ngIf"],[1,"container-fluid","d-flex"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarTogglerDemo03","aria-controls","navbarTogglerDemo03","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["class","navbar-brand d-flex align-items-center","href","#",4,"ngIf"],["id","navbarTogglerDemo03",1,"collapse","navbar-collapse",2,"justify-content","space-between"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","#",1,"nav-link"],["href","#","tabindex","-1","aria-disabled","true",1,"nav-link","disabled"],[1,"navbar-nav","me-right","navbar-dark","text-white","align-items-center","d-flex"],["type","checkbox"],["pBadge","","value","4","severity","danger",3,"image"],[3,"click"],[1,"nav-item",2,"width","80px"],["href","#",1,"navbar-brand","d-flex","align-items-center"],[2,"margin","0"],["pBadge","","value","4","size","xlarge","badgeSize","large",3,"image"]],template:function(r,l){1&r&&(t.j41(0,"nav",0),t.DNE(1,g,28,8,"div",1),t.k0s(),t.nrm(2,"p-toast")),2&r&&(t.R7$(),t.Y8G("ngIf",l.user))},dependencies:[o.bT,s.e,p.y8,o.PV]})}return e})();function L(e,u){if(1&e){const n=t.RV6();t.j41(0,"li",3),t.bIt("click",function(){const l=t.eBV(n).$implicit,v=t.XpG();return t.Njj(v.sidebarActive(l))}),t.j41(1,"a",4),t.nrm(2,"i"),t.EFF(3),t.nI1(4,"titlecase"),t.k0s(),t.nrm(5,"hr"),t.k0s()}if(2&e){const n=u.$implicit;t.Y8G("ngClass",n.active?"active":""),t.R7$(),t.Y8G("routerLink",n.url),t.R7$(),t.ZvI("fa fa-",n.icon,""),t.R7$(),t.SpI(" ",t.bMT(4,6,n.title),"")}}let S=(()=>{class e{constructor(){this.navigation=[]}sidebarActive(n){this.navigation.map(r=>{r.active=!1}),n.active=!0}static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-sidebar"]],inputs:{navigation:"navigation"},decls:4,vars:1,consts:[[1,"row"],[1,"nav-list"],["class","nav-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"nav-item",3,"click","ngClass"],[3,"routerLink"]],template:function(r,l){1&r&&(t.j41(0,"nav",0),t.nrm(1,"br"),t.j41(2,"ul",1),t.DNE(3,L,6,8,"li",2),t.k0s()()),2&r&&(t.R7$(3),t.Y8G("ngForOf",l.navigation))},dependencies:[o.YU,o.Sq,c.Wk,o.PV],styles:[".nav-list[_ngcontent-%COMP%]{list-style:none;padding:40px 0 0;margin:0;width:100%}.nav-list[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:700;color:#3683e7}.nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;padding:0 15px}.nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#000;font-weight:600}.nav-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.7;margin-right:5px}"]})}return e})();var O=a(6432);const E=e=>[e,"text-color"];function R(e,u){if(1&e&&(t.qex(0),t.j41(1,"a",5),t.nrm(2,"span",6),t.j41(3,"span",7),t.EFF(4),t.k0s()(),t.bVm()),2&e){const n=t.XpG().$implicit;t.R7$(),t.Y8G("routerLink",n.url),t.R7$(),t.Y8G("ngClass",t.eq3(3,E,n.icon?n.icon:"pi pi-"+n.icon)),t.R7$(2),t.JRh(n.title)}}function y(e,u){if(1&e&&(t.j41(0,"a",8)(1,"span",9),t.EFF(2),t.k0s()()),2&e){const n=t.XpG().$implicit;t.Y8G("routerLink",n.url),t.R7$(2),t.JRh(n.title)}}function $(e,u){if(1&e&&t.DNE(0,R,5,5,"ng-container",4)(1,y,3,2,"ng-template",null,0,t.C5r),2&e){const n=u.$implicit,r=t.sdS(2);t.Y8G("ngIf",n.url)("ngIfElse",r)}}let M=(()=>{class e{constructor(){this.breadcrumbLinks=[]}static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-breadcrumb"]],inputs:{breadcrumbLinks:"breadcrumbLinks"},decls:3,vars:1,consts:[["elseBlock",""],[1,"flex","justify-content-center"],[1,"max-w-full",3,"model"],["pTemplate","item"],[4,"ngIf","ngIfElse"],[1,"p-menuitem-link",3,"routerLink"],[3,"ngClass"],[1,"text-primary","font-semibold"],[3,"routerLink"],[1,"text-color"]],template:function(r,l){1&r&&(t.j41(0,"div",1)(1,"p-breadcrumb",2),t.DNE(2,$,3,2,"ng-template",3),t.k0s()()),2&r&&(t.R7$(),t.Y8G("model",l.breadcrumbLinks))},dependencies:[o.YU,o.bT,c.Wk,d.Ei,O.Q],styles:[".breadcrumb[_ngcontent-%COMP%]{justify-content:flex-start;align-items:center;margin-left:-15px}.breadcrumb[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:12px}.breadcrumb[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333}.breadcrumb[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:12px}.breadcrumb[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   i[_ngcontent-%COMP%]{display:none}"]})}return e})();var P=a(7076);function U(e,u){1&e&&(t.j41(0,"div",10),t.nrm(1,"span",11),t.k0s())}const I=[{path:"",component:(()=>{class e{constructor(n,r,l){this._router=n,this._userData=r,this._loaderAPI=l,this.isSidebarOpen=!0,this.breadcrumb=[{title:"Home",url:"",icon:"home",active:!1},{title:"Profile",url:"profile",icon:"user",active:!0}],this.isloader=!1,this.type=sessionStorage.getItem("type")||"",this.id=sessionStorage.getItem("uid"),this.navlist=[],this.studentNavList=[{active:!0,title:"profile",url:`student/${this.id}/profile`,icon:"user"},{active:!1,title:"events",url:`student/${this.id}/events`,icon:"calendar"},{active:!1,title:"Reports",url:`student/${this.id}/report`,icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"library",url:`student/${this.id}/library`,icon:"book"},{active:!1,title:"Request & Support",url:`student/${this.id}/support`,icon:"book"},{active:!1,title:"Leave management",url:`student/${this.id}/lms`,icon:"book"},{active:!1,title:"logout",url:"/",icon:" fa-solid fa-power-off"}],this.parentNavList=[{active:!0,title:"profile",url:"profile",icon:"user"},{active:!1,title:"fee Slip",url:"/",icon:" fa-solid fa-money-check-dollar"},{active:!1,title:"event list",url:"/",icon:"calendar"},{active:!1,title:"Results",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"logout",url:"/",icon:" fa-solid fa-power-off"}],this.teacherNavList=[{active:!1,title:"Student manegement",url:`teacher/${this.id}/students`,icon:"calendar"},{active:!1,title:"result manegement",url:`teacher/${this.id}/results`,icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"event manegement",url:`teacher/${this.id}/events`,icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"Parent manegement",url:`teacher/${this.id}/parents`,icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"library manegement",url:`teacher/${this.id}/library`,icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"Teacher manegement",url:`teacher/${this.id}/teachers`,icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"stufee",url:`teacher/${this.id}/stufee`,icon:"user"},{active:!1,title:"fees Structure",url:`teacher/${this.id}/fees_detils`,icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"School Management",url:`teacher/${this.id}/school-manage`,icon:" fa-solid fa-square-poll-vertical"},{active:!0,title:"profile",url:`teacher/${this.id}/profile`,icon:"user"},{active:!1,title:"logout",url:"/",icon:" fa-solid fa-power-off"}],this.schoolNavList=[{active:!0,title:"profile",url:"profile",icon:"user"},{active:!1,title:"Student manegement",url:"/",icon:"calendar"},{active:!1,title:"Parent manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"Teacher manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"event manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"result manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"fees manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"library manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"logout",url:"/",icon:" fa-solid fa-power-off"}],this.setSidenavbar(this.type),this._loaderAPI.loader$.subscribe(v=>{this.isloader=v})}ngOnInit(){}setSidenavbar(n){switch(n){case"student":this.navlist=this.studentNavList;break;case"teacher":this.navlist=this.teacherNavList;break;case"parent":this.navlist=this.parentNavList;break;case"school":case"admin":this.navlist=this.schoolNavList;break;default:this.navlist=[]}}static#t=this.\u0275fac=function(r){return new(r||e)(t.rXU(c.nX),t.rXU(f.u),t.rXU(f.u))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-user"]],decls:14,vars:5,consts:[[1,"container-fluid"],[1,"sidebar-toggle",3,"click"],[1,"row","inner-container",3,"ngClass"],[1,"col-sm-3","col-lg-2","sidebar",2,"background-color","rgb(212, 212, 212)"],[3,"navigation"],[1,"myschool-container",3,"ngClass"],[1,"row",2,"width","100%"],[2,"width","100%",3,"breadcrumbLinks"],["class","loader-container",4,"ngIf"],[1,"inner-pages"],[1,"loader-container"],[1,"loader"]],template:function(r,l){1&r&&(t.nrm(0,"app-inner-header"),t.j41(1,"section",0)(2,"button",1),t.bIt("click",function(){return l.isSidebarOpen=!l.isSidebarOpen}),t.EFF(3,">"),t.k0s(),t.j41(4,"div",2)(5,"div",3),t.nrm(6,"app-sidebar",4),t.k0s(),t.j41(7,"div",5)(8,"div",6),t.nrm(9,"app-breadcrumb",7),t.k0s(),t.DNE(10,U,2,0,"div",8),t.j41(11,"section",9),t.nrm(12,"router-outlet"),t.k0s()()()(),t.nrm(13,"app-copyright")),2&r&&(t.R7$(4),t.Y8G("ngClass",l.isSidebarOpen?"sidebar-open":"sidebar-close"),t.R7$(2),t.Y8G("navigation",l.navlist),t.R7$(),t.Y8G("ngClass",l.isSidebarOpen?"col-sm-9 col-lg-10":"col-12"),t.R7$(2),t.Y8G("breadcrumbLinks",l.breadcrumb),t.R7$(),t.Y8G("ngIf",l.isloader))},dependencies:[o.YU,o.bT,c.n3,A,S,M,P.b],encapsulation:2})}return e})(),children:[{path:"student/:id",loadChildren:()=>Promise.all([a.e(773),a.e(314)]).then(a.bind(a,8314)).then(e=>e.StudentModule)},{path:"teacher/:id",loadChildren:()=>Promise.all([a.e(773),a.e(155)]).then(a.bind(a,155)).then(e=>e.TutorModule)},{path:"parent/:id",loadChildren:()=>a.e(665).then(a.bind(a,5665)).then(e=>e.ParentModule)},{path:"school/:id",loadChildren:()=>a.e(109).then(a.bind(a,1109)).then(e=>e.SchoolModule)},{path:"admin/:id",loadChildren:()=>a.e(45).then(a.bind(a,9045)).then(e=>e.AdminModule)}]}];let k=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[c.iI.forChild(I),c.iI]})}return e})();var B=a(7425);let F=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[o.MD,k,c.iI,B.G]})}return e})()}}]);