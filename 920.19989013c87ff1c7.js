"use strict";(self.webpackChunkmyschool=self.webpackChunkmyschool||[]).push([[920],{1434:(Y,D,p)=>{p.d(D,{y:()=>U});var m=p(5779),t=p(2100),f=p(177),s=p(9417),R=p(1141),F=p(6781),G=p(8833),S=p(1593),y=p(2242),e=p(8542),k=p(1305),L=p(9851),P=p(8676),n=p(3953),j=p(1195),B=p(1667);let u=(()=>{class T{constructor(c,g,_,E,$,X){this.fb=c,this.config=g,this._dialogRef=_,this._api=E,this._appService=$,this._DatePipe=X,this.visible=!1,this.classList=[],this.sectionList=[],this.filterSectionList=[],this.isDisabled=!1,this.today=new Date,this.statusList=[{name:"completed"},{name:"pending"},{name:"inprogress"}],this.school_id=sessionStorage.getItem("school_id")||"",this.eventFrm=this.fb.group({id:"",title:"",start_date:"",end_date:"",description:"",school_id:"",pic:"",class:[""],section:[""],status:["inprogress"]})}ngOnInit(){this.eventFrm.get("school_id")?.setValue(this.school_id),this._api.getClassList(this.school_id).subscribe(c=>{this.classList=c.results}),this._api.sectionList(this.school_id).subscribe(c=>{this.sectionList=c.results,this.filterSectionList=c.results}),this.config.data&&(this.setEventData(this.config.data),this.isDisabled=!0)}submitevent(c){this.eventFrm.get("start_date")?.setValue(this._DatePipe.transform(this.eventFrm.get("start_date")?.value,"yyyy-MM-dd HH:MM")),this.eventFrm.get("end_date")?.setValue(this._DatePipe.transform(this.eventFrm.get("end_date")?.value,"yyyy-MM-dd HH:MM")),this.eventFrm.get("class")?.setValue(this.getIdStringList(this.eventFrm.get("class")?.value)),this.eventFrm.get("section")?.setValue(this.getIdStringList(this.eventFrm.get("section")?.value)),c.valid&&(this.config.data=c.value,this._dialogRef.close(this.eventFrm.value))}filterSection(c){}getIdStringList(c){let g="";return c.map(_=>g+=(""==g?"":",")+_.id.toString()),g}setEventData(c){console.log("eventData",c),this.eventFrm.patchValue({id:c.id,title:c.title,start_date:c.start_date,end_date:c.end_date,description:c.description,school_id:c.school_id,pic:c.pic,class:c.class,section:c.section,status:c.status})}static#t=this.\u0275fac=function(g){return new(g||T)(n.rXU(s.ok),n.rXU(t.sb),n.rXU(t.Pw),n.rXU(j.F),n.rXU(B.u),n.rXU(f.vh))};static#e=this.\u0275cmp=n.VBU({type:T,selectors:[["app-event-dialog"]],standalone:!0,features:[n.Jv_([f.vh]),n.aNF],decls:54,vars:13,consts:[[3,"submit","formGroup"],[1,"row"],[1,"col-md-12"],["id","title","type","text","pInputText","","formControlName","title",1,"full-width"],["for","title"],[1,"col-md-4"],[1,"full-width"],["id","class","formControlName","class","optionLabel","name","placeholder","Select class",1,"full-width",3,"ngModelChange","options","disabled"],["for","class"],["id","section","formControlName","section","optionLabel","name","placeholder","Select Section",1,"full-width",3,"disabled","options"],["for","section"],["optionLabel","name","optionValue","name",3,"options"],[1,"col-md-6"],["id","start_date","icon","true","formControlName","start_date",1,"full-width",3,"showTime","disabled","hourFormat","minDate"],["for","start_date"],["id","end_date","formControlName","end_date",1,"full-width",3,"showTime","disabled","hourFormat"],["for","end_date"],["rows","5","cols","30","id","description","pInputTextarea","","formControlName","description",1,"full-width"],["for","description"],[1,"text-right",2,"width","100%","padding-top","12px"],["severity","secondary"],["severity","primary","type","submit"]],template:function(g,_){1&g&&(n.j41(0,"form",0),n.bIt("submit",function(){return _.submitevent(_.eventFrm)}),n.j41(1,"div",1)(2,"div",2),n.nrm(3,"br"),n.j41(4,"p-floatLabel"),n.nrm(5,"input",3),n.j41(6,"label",4),n.EFF(7,"Title"),n.k0s()()(),n.j41(8,"div",5),n.nrm(9,"br"),n.j41(10,"p-floatLabel",6)(11,"p-multiSelect",7),n.bIt("ngModelChange",function($){return _.filterSection($)}),n.k0s(),n.j41(12,"label",8),n.EFF(13,"Class"),n.k0s()()(),n.j41(14,"div",5),n.nrm(15,"br"),n.j41(16,"p-floatLabel",6),n.nrm(17,"p-multiSelect",9),n.j41(18,"label",10),n.EFF(19,"Section"),n.k0s()()(),n.j41(20,"div",5),n.nrm(21,"br"),n.j41(22,"p-floatLabel",6),n.nrm(23,"p-dropdown",11),n.j41(24,"label",10),n.EFF(25,"Section"),n.k0s()()(),n.j41(26,"div",12),n.nrm(27,"br"),n.j41(28,"p-floatLabel",6),n.nrm(29,"p-calendar",13),n.j41(30,"label",14),n.EFF(31,"Start on"),n.k0s()()(),n.j41(32,"div",12),n.nrm(33,"br"),n.j41(34,"p-floatLabel",6),n.nrm(35,"p-calendar",15),n.j41(36,"label",16),n.EFF(37,"End On"),n.k0s()()(),n.j41(38,"div",2),n.nrm(39,"br"),n.j41(40,"p-floatLabel"),n.nrm(41,"textarea",17),n.j41(42,"label",18),n.EFF(43,"Description"),n.k0s()(),n.nrm(44,"br")(45,"br")(46,"br")(47,"br"),n.k0s(),n.j41(48,"div",19)(49,"p-button",20),n.EFF(50,"Cancel"),n.k0s(),n.EFF(51,"\xa0\xa0 "),n.j41(52,"p-button",21),n.EFF(53,"Create Event"),n.k0s()()()()),2&g&&(n.Y8G("formGroup",_.eventFrm),n.R7$(11),n.Y8G("options",_.classList)("disabled",_.isDisabled),n.R7$(6),n.Y8G("disabled",_.isDisabled)("options",_.sectionList),n.R7$(6),n.Y8G("options",_.statusList),n.R7$(6),n.Y8G("showTime",!0)("disabled",_.isDisabled)("hourFormat","24")("minDate",_.today),n.R7$(6),n.Y8G("showTime",!0)("disabled",_.isDisabled)("hourFormat","24"))},dependencies:[f.MD,P.iV,P.KF,L.rO,L.Vv,R.$n,k.f,k.Z,G.kr,G.ms,F.P,e.S,y.u,y.S,S.f,S.V,s.YN,s.qT,s.me,s.BC,s.cb,s.X1,s.j4,s.JD,m.Gg,R.tm],styles:[".p-float-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}"]})}return T})();var v=p(2616),a=p(5404),h=p(9170),C=p(1208);const w=()=>["id","title"],M=()=>[10,25,50];function A(T,O){if(1&T){const c=n.RV6();n.j41(0,"div",17)(1,"p-iconField",18)(2,"p-inputIcon"),n.nrm(3,"i",19),n.k0s(),n.j41(4,"input",20),n.mxI("ngModelChange",function(_){n.eBV(c);const E=n.XpG(2);return n.DH7(E.search,_)||(E.search=_),n.Njj(_)}),n.bIt("input",function(){n.eBV(c),n.XpG();const _=n.sdS(2),E=n.XpG();return n.Njj(_.filterGlobal(E.search,"contains"))}),n.k0s()()()}if(2&T){const c=n.XpG(2);n.R7$(4),n.R50("ngModel",c.search)}}function V(T,O){1&T&&(n.j41(0,"tr")(1,"th"),n.nrm(2,"p-tableHeaderCheckbox"),n.k0s(),n.j41(3,"th"),n.EFF(4,"ID"),n.k0s(),n.j41(5,"th"),n.EFF(6,"Title"),n.k0s(),n.j41(7,"th"),n.EFF(8,"Description"),n.k0s(),n.j41(9,"th"),n.EFF(10,"Start On"),n.k0s(),n.j41(11,"th"),n.EFF(12,"End On"),n.k0s(),n.j41(13,"th"),n.EFF(14,"Action"),n.k0s()())}function x(T,O){if(1&T){const c=n.RV6();n.j41(0,"tr")(1,"td"),n.nrm(2,"p-tableCheckbox",21),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td"),n.EFF(8),n.k0s(),n.j41(9,"td"),n.EFF(10),n.nI1(11,"date"),n.k0s(),n.j41(12,"td"),n.EFF(13),n.nI1(14,"date"),n.k0s(),n.j41(15,"td")(16,"p-button",22),n.bIt("click",function(){const _=n.eBV(c).$implicit,E=n.XpG(2);return n.Njj(E.updateEvent(_))}),n.k0s()()()}if(2&T){const c=O.$implicit;n.R7$(2),n.Y8G("value",c),n.R7$(2),n.JRh(c.id),n.R7$(2),n.JRh(c.title),n.R7$(2),n.JRh(c.description),n.R7$(2),n.JRh(n.i5U(11,7,c.start_date,"dd-MMM-YYYY")),n.R7$(3),n.JRh(n.i5U(14,10,c.end_date,"dd-MMM-YYYY")),n.R7$(3),n.Y8G("rounded",!0)}}function N(T,O){if(1&T){const c=n.RV6();n.j41(0,"div",12)(1,"p-table",13,0),n.mxI("selectionChange",function(_){n.eBV(c);const E=n.XpG();return n.DH7(E.selectedEvent,_)||(E.selectedEvent=_),n.Njj(_)}),n.DNE(3,A,5,1,"ng-template",14)(4,V,15,0,"ng-template",15)(5,x,17,13,"ng-template",16),n.k0s()()}if(2&T){const c=n.XpG();n.R7$(),n.Y8G("value",c.eventData),n.R50("selection",c.selectedEvent),n.Y8G("globalFilterFields",n.lJ4(6,w))("rows",10)("rowsPerPageOptions",n.lJ4(7,M))("paginator",!0)}}let U=(()=>{class T{constructor(c,g,_,E){this._sharedAPI=c,this._dialog=g,this._message=_,this._appService=E,this.school_id=sessionStorage.getItem("school_id")||"",this.eventData=[],this.selectedEvent=[],this.search="",this.loadEvents()}loadEvents(){this._appService.loader$.next(!0),this._sharedAPI.getEvents(this.school_id).subscribe(c=>{c.results[0]&&(this.eventData=c.results,this._appService.loader$.next(!1))})}createEvent(){this._dialogRef=this._dialog.open(u,{header:"Create Event",data:{},width:"70%"}),this._dialogRef.onClose.subscribe(c=>{this._appService.loader$.next(!0),this._sharedAPI.createEvents(c).subscribe(g=>{this._appService.loader$.next(!1),this._message.add({severity:"success",summary:"Create Successfully!"})})})}updateEvent(c){this._dialogRef=this._dialog.open(u,{header:"Update Event",data:c,width:"70%"}),this._dialogRef.onClose.subscribe(g=>{this._appService.loader$.next(!0),this._sharedAPI.updateEvents(g).subscribe(_=>{this._appService.loader$.next(!1),this._message.add({severity:"success",summary:"Create Successfully!"})})})}static#t=this.\u0275fac=function(g){return new(g||T)(n.rXU(v.d),n.rXU(t.o3),n.rXU(m.bg),n.rXU(B.u))};static#e=this.\u0275cmp=n.VBU({type:T,selectors:[["app-event-list"]],features:[n.Jv_([t.o3,m.bg])],decls:15,vars:4,consts:[["dt2",""],[1,"parent-list"],[1,"d-flex","mb-3","mt-3"],[1,"col-md-6",2,"padding-left","0"],[1,"title"],[1,"col-md-6"],[1,"text-right"],["icon","pi pi-pencil","pTooltip","Create Event",3,"disabled"],["icon","pi pi-trash","pTooltip","Delete selected",3,"disabled"],["icon","pi pi-envelope","pTooltip","Message",3,"disabled"],["severity","primary","icon","pi pi-plus","label","Create Events",3,"click"],["class","card",4,"ngIf"],[1,"card"],["dataKey","id",3,"selectionChange","value","selection","globalFilterFields","rows","rowsPerPageOptions","paginator"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex"],["iconPosition","left",1,"ml-auto"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search keyword",3,"ngModelChange","input","ngModel"],[3,"value"],["icon","pi pi-pencil","severity","help",3,"click","rounded"]],template:function(g,_){1&g&&(n.j41(0,"section",1)(1,"div",2)(2,"div",3)(3,"h1",4),n.EFF(4,"Events List"),n.k0s()(),n.j41(5,"div",5)(6,"div",6),n.nrm(7,"p-button",7),n.EFF(8,"\xa0 "),n.nrm(9,"p-button",8),n.EFF(10,"\xa0 "),n.nrm(11,"p-button",9),n.EFF(12,"\xa0 "),n.j41(13,"p-button",10),n.bIt("click",function(){return _.createEvent()}),n.k0s()()()(),n.DNE(14,N,6,8,"div",11),n.k0s()),2&g&&(n.R7$(7),n.Y8G("disabled",!_.selectedEvent.length),n.R7$(2),n.Y8G("disabled",!_.selectedEvent.length),n.R7$(2),n.Y8G("disabled",!_.selectedEvent.length),n.R7$(3),n.Y8G("ngIf",_.eventData))},dependencies:[f.bT,s.me,s.BC,y.S,m.Ei,R.$n,e.m,a.XI,a.S9,a.nA,s.vS,h.C,C.m,f.vh]})}return T})()},1716:(Y,D,p)=>{p.d(D,{d:()=>t});var m=p(3953);let t=(()=>{class f{static#t=this.\u0275fac=function(F){return new(F||f)};static#e=this.\u0275cmp=m.VBU({type:f,selectors:[["app-library"]],standalone:!0,features:[m.aNF],decls:2,vars:0,template:function(F,G){1&F&&(m.j41(0,"p"),m.EFF(1,"library works!"),m.k0s())}})}return f})()},7243:(Y,D,p)=>{p.d(D,{n:()=>B});var m=p(9417),t=p(1283),f=p(5779),s=p(3953),R=p(2616),F=p(1667),G=p(177),S=p(2242),y=p(8833),e=p(1141),k=p(1593);function L(u,v){if(1&u&&(s.j41(0,"span",42),s.EFF(1),s.k0s()),2&u){const a=s.XpG(2);s.R7$(),s.Lme("",null==a.data?null:a.data.fname," ",null==a.data?null:a.data.lname,"")}}function P(u,v){if(1&u&&(s.j41(0,"span",43),s.EFF(1),s.k0s()),2&u){const a=s.XpG(2);s.R7$(),s.JRh(null==a.data?null:a.data.email)}}function n(u,v){1&u&&(s.j41(0,"div",16)(1,"p-floatLabel"),s.nrm(2,"input",44),s.j41(3,"label",45),s.EFF(4,"Parent ID"),s.k0s()()())}function j(u,v){if(1&u){const a=s.RV6();s.j41(0,"section",2)(1,"form",3),s.bIt("submit",function(){s.eBV(a);const C=s.XpG();return s.Njj(C.formSubmit(C.profileFrm))}),s.j41(2,"div",4)(3,"div",5)(4,"div",6)(5,"div",7),s.nrm(6,"img",8),s.DNE(7,L,2,2,"span",9)(8,P,2,1,"span",10),s.nrm(9,"span"),s.j41(10,"input",11,0),s.bIt("change",function(C){s.eBV(a);const w=s.XpG();return s.Njj(w.onUpload(C))}),s.k0s(),s.j41(12,"p-button",12),s.bIt("click",function(){s.eBV(a);const C=s.sdS(11);return s.Njj(C.click())}),s.k0s()()(),s.j41(13,"div",13)(14,"div",14)(15,"b"),s.EFF(16,"Basic Info"),s.k0s(),s.nrm(17,"hr")(18,"br"),s.j41(19,"div",15)(20,"div",16)(21,"p-floatLabel"),s.nrm(22,"input",17),s.j41(23,"label",18),s.EFF(24,"First Name"),s.k0s()()(),s.j41(25,"div",16)(26,"p-floatLabel"),s.nrm(27,"input",19),s.j41(28,"label",20),s.EFF(29,"Middle Name"),s.k0s()()(),s.j41(30,"div",16)(31,"p-floatLabel"),s.nrm(32,"input",21),s.j41(33,"label",22),s.EFF(34,"Last Name"),s.k0s()()(),s.DNE(35,n,5,0,"div",23),s.k0s(),s.j41(36,"b"),s.EFF(37,"Contact Info"),s.k0s(),s.nrm(38,"hr")(39,"br"),s.j41(40,"div",15)(41,"div",24)(42,"p-floatLabel"),s.nrm(43,"input",25),s.j41(44,"label",26),s.EFF(45,"Phone"),s.k0s()()(),s.j41(46,"div",24)(47,"p-floatLabel"),s.nrm(48,"input",27),s.j41(49,"label",28),s.EFF(50,"Email"),s.k0s()()()(),s.j41(51,"b"),s.EFF(52,"Address"),s.k0s(),s.nrm(53,"hr")(54,"br"),s.j41(55,"div",15)(56,"div",24)(57,"p-floatLabel"),s.nrm(58,"p-dropdown",29),s.j41(59,"label",30),s.EFF(60,"Country"),s.k0s()()(),s.j41(61,"div",24)(62,"p-floatLabel"),s.nrm(63,"input",31),s.j41(64,"label",32),s.EFF(65,"Address 1"),s.k0s()()(),s.j41(66,"div",24)(67,"p-floatLabel"),s.nrm(68,"input",33),s.j41(69,"label",34),s.EFF(70,"Address 2"),s.k0s()()(),s.j41(71,"div",24)(72,"p-floatLabel"),s.nrm(73,"input",35),s.j41(74,"label",36),s.EFF(75,"City"),s.k0s()()(),s.j41(76,"div",24)(77,"p-floatLabel"),s.nrm(78,"input",37),s.j41(79,"label",38),s.EFF(80,"State"),s.k0s()()()(),s.j41(81,"div",15)(82,"div",39),s.nrm(83,"p-button",40),s.EFF(84,"\xa0 "),s.nrm(85,"p-button",41),s.EFF(86,"\xa0 "),s.k0s()()()()()()()()}if(2&u){let a;const h=s.XpG();s.R7$(),s.Y8G("formGroup",h.profileFrm),s.R7$(5),s.Y8G("src",h.BASE_URL+"/"+(null==(a=h.profileFrm.get("profile_pic"))?null:a.value),s.B4B),s.R7$(),s.Y8G("ngIf",h.data),s.R7$(),s.Y8G("ngIf",null==h.data?null:h.data.email),s.R7$(4),s.Y8G("rounded",!0),s.R7$(23),s.Y8G("ngIf","student"===h.type),s.R7$(23),s.Y8G("options",h.coutryList),s.R7$(25),s.Y8G("disabled",h.isSubmitDisabled),s.R7$(2),s.Y8G("disabled",h.isSubmitDisabled)}}let B=(()=>{class u{constructor(a,h,C,w){this._fb=a,this._api=h,this._appService=C,this._toast=w,this.type=sessionStorage.getItem("type")||"",this.coutryList=[{name:"India"},{name:"Nepal"},{name:"Bhutan"},{name:"Srilanka"}],this.isSubmitDisabled=!1,this.BASE_URL=t.c.apiURL,this.profileFrm=this._fb.group({active:1,address1:["",[m.k0.required]],address2:[""],city:[""],state:[""],class:[""],country:[""],email:["",[m.k0.required]],fname:["",[m.k0.required]],id:["",[m.k0.required]],lname:["",[m.k0.required]],mname:[""],parent_id:[""],persona:[""],phone:["",[m.k0.required]],school_id:[""],section:[""],uid:["",[m.k0.required]],profile_pic:["assets/images/491541-student-1728791592572.jpg"]})}ngOnInit(){this.data&&this.setfromValue(this.data)}ngAfterViewInit(){}setfromValue(a){this.profileFrm.setValue({active:a.active,address1:a.address1?a.address1:null,address2:a.address2,city:a?.city,state:a.state?a?.state:"",class:a.class?a.class:null,country:a.country,email:a.email,fname:a.fname,id:a.id,lname:a.lname,mname:a.mname,parent_id:a.parent_id?a.parent_id:null,persona:a.persona,phone:a.phone,school_id:a.school_id,section:a.section?a.section:null,uid:a.uid,profile_pic:a.profile_pic?a.profile_pic:"assets/images/491541-student-1728791592572.jpg"})}onUpload(a){let C=a.target.files?.[0];C&&this._api.uploadPhoto(C,"teacher",this.data.uid).subscribe(M=>{if(M.result){let A=`${M.result.destination}/${M.result.filename}`;this.profileFrm.get("profile_pic")?.setValue(A)}})}formSubmit(a){a.valid&&this._appService.updateTeacher(a.value).subscribe(h=>{this._toast.add({severity:"success",detail:"Successfuly Updated!",summary:"done"})})}static#t=this.\u0275fac=function(h){return new(h||u)(s.rXU(m.ok),s.rXU(R.d),s.rXU(F.u),s.rXU(f.bg))};static#e=this.\u0275cmp=s.VBU({type:u,selectors:[["app-profile"]],inputs:{data:"data"},features:[s.Jv_([f.bg])],decls:1,vars:1,consts:[["fileUpload",""],["class","profile",4,"ngIf"],[1,"profile"],[3,"submit","formGroup"],[1,"container-fluid","rounded","bg-white"],[1,"row"],[1,"col-md-3","border-right"],[1,"d-flex","flex-column","align-items-center","text-center","p-3","py-5"],["width","150px",1,"rounded-circle","mt-5",3,"src"],["class","font-weight-bold",4,"ngIf"],["class","text-black-50",4,"ngIf"],["type","file","hidden","",3,"change"],["icon","pi pi-plus",1,"rounded-button",3,"click","rounded"],[1,"col-md-9"],[1,"p-3"],[1,"row","mt-2"],[1,"col-md-4"],["pInputText","","id","fname","placeholder","First Name","formControlName","fname"],["for","fname"],["pInputText","","id","mname","placeholder","Middle Name","formControlName","mname"],["for","mname"],["pInputText","","id","lname","placeholder","Last Name","formControlName","lname"],["for","lname"],["class","col-md-4",4,"ngIf"],[1,"col-md-6"],["pInputText","","id","phone","placeholder","Mobile No.","formControlName","phone"],["for","phone"],["id","email","pInputText","","placeholder","Email","formControlName","email"],["for","email"],["id","country","formControlName","country","optionLabel","name","optionValue","name",3,"options"],["for","country"],["id","address1","pInputText","","placeholder","Address 1","formControlName","address1"],["for","address1"],["id","address2","pInputText","","placeholder","Address 2","formControlName","address2"],["for","address2"],["pInputText","","id","city","placeholder","City","formControlName","city"],["for","city"],["id","state","pInputText","","placeholder","State","formControlName","state"],["for","state"],[1,"col-sm-12","text-right"],["label","Cancel","severity","secondary",3,"disabled"],["label","Update","type","submit","severity","info",3,"disabled"],[1,"font-weight-bold"],[1,"text-black-50"],["id","parent_id","pInputText","","placeholder","parent","formControlName","parent_id"],["for","parent_id"]],template:function(h,C){1&h&&s.DNE(0,j,87,9,"section",1),2&h&&s.Y8G("ngIf",C.data)},dependencies:[G.bT,m.qT,m.me,m.BC,m.cb,m.j4,m.JD,S.S,y.ms,e.$n,k.V],styles:["hr[_ngcontent-%COMP%]{margin-top:0}"]})}return u})()},1764:(Y,D,p)=>{p.d(D,{l:()=>n});var m=p(467),t=p(177),f=p(9417),s=p(1141),R=p(9170),F=p(6160),G=p(2242),S=p(8676),y=p(4945),e=p(3953),k=p(2616),L=p(1195),P=p(9555);let n=(()=>{class j{constructor(u,v,a,h){this._fb=u,this._sharedapi=v,this._api=a,this._router=h,this.classList=[],this.school_id=sessionStorage.getItem("school_id")||"",this.sectionList=[],this.finyearList=[],this.type=sessionStorage.getItem("type")||"",this.id=sessionStorage.getItem("uid")||"",this.studentReportsFrm=this._fb.group({class:[""],section:[""],finyear:[""],year:[""],report:[""]}),this.classlistFn(),this.sectionlistFn()}classlistFn(){var u=this;return(0,m.A)(function*(){yield u._api.getClassList(u.school_id).subscribe(v=>{u.classList=v.results})})()}sectionlistFn(){var u=this;return(0,m.A)(function*(){yield u._api.sectionList(u.school_id).subscribe(v=>{u.sectionList=v.results})})()}finYearlistFn(){var u=this;return(0,m.A)(function*(){yield u._api.finYearsList(u.school_id).subscribe(v=>{u.finyearList=v})})()}reportSubmit(u,v){u.report=v,this._router.navigate([`/user/${this.type}/${this.id}/report-table`],{queryParams:u})}static#t=this.\u0275fac=function(v){return new(v||j)(e.rXU(f.ok),e.rXU(k.d),e.rXU(L.F),e.rXU(P.Ix))};static#e=this.\u0275cmp=e.VBU({type:j,selectors:[["app-reports"]],standalone:!0,features:[e.aNF],decls:156,vars:36,consts:[["header","Student Report"],[1,"student","tab-body"],[1,"row",3,"submit","formGroup"],[1,"col-md-4"],["placeholder","Class","optionLabel","name","optionValue","name","formControlName","class",3,"options"],["placeholder","Section","optionLabel","name","optionValue","name","formControlName","section",3,"options"],["placeholder","Financial Year","optionLabel","name","optionValue","name","formControlName","finyear",3,"options"],["type","submit"],["header","Parents Report"],["header","Fee Slips"],["header","Events"],["header","Transfer Certificate"],["header","Id Cards"],["header","Teacher"],["header","Results"],["header","Books"]],template:function(v,a){1&v&&(e.j41(0,"p-tabView")(1,"p-tabPanel",0)(2,"section",1),e.EFF(3," Note: Please select the Students Class, Section, and Fin Year for Create Report."),e.nrm(4,"br")(5,"br"),e.j41(6,"form",2),e.bIt("submit",function(){return a.reportSubmit(a.studentReportsFrm.value,"student")}),e.j41(7,"div",3)(8,"p-inputGroup"),e.nrm(9,"p-multiSelect",4),e.k0s()(),e.j41(10,"div",3)(11,"p-inputGroup"),e.nrm(12,"p-multiSelect",5),e.k0s()(),e.j41(13,"div",3)(14,"p-inputGroup"),e.nrm(15,"p-multiSelect",6),e.k0s()(),e.j41(16,"div",3)(17,"p-button",7),e.EFF(18,"Create Report"),e.k0s()()()()(),e.j41(19,"p-tabPanel",8),e.EFF(20," Note: Please select the Students Class, Section, and Fin Year for Create Report."),e.nrm(21,"br")(22,"br"),e.j41(23,"form",2),e.bIt("submit",function(){return a.reportSubmit(a.studentReportsFrm.value,"parent")}),e.j41(24,"div",3)(25,"p-inputGroup"),e.nrm(26,"p-multiSelect",4),e.k0s()(),e.j41(27,"div",3)(28,"p-inputGroup"),e.nrm(29,"p-multiSelect",5),e.k0s()(),e.j41(30,"div",3)(31,"p-inputGroup"),e.nrm(32,"p-multiSelect",6),e.k0s()(),e.j41(33,"div",3)(34,"p-button",7),e.EFF(35,"Create Report"),e.k0s()()()(),e.j41(36,"p-tabPanel",9),e.EFF(37," Note: Please select the Students Class, Section, and Fin Year for Create Report."),e.nrm(38,"br")(39,"br"),e.j41(40,"form",2),e.bIt("submit",function(){return a.reportSubmit(a.studentReportsFrm.value,"fee")}),e.j41(41,"div",3)(42,"p-inputGroup"),e.nrm(43,"p-multiSelect",4),e.k0s()(),e.j41(44,"div",3)(45,"p-inputGroup"),e.nrm(46,"p-multiSelect",5),e.k0s()(),e.j41(47,"div",3)(48,"p-inputGroup"),e.nrm(49,"p-multiSelect",6),e.k0s()(),e.j41(50,"div",3)(51,"p-button",7),e.EFF(52,"Create Report"),e.k0s()()()(),e.j41(53,"p-tabPanel",10),e.EFF(54," Note: Please select the Students Class, Section, and Fin Year for Create Report."),e.nrm(55,"br")(56,"br"),e.j41(57,"form",2),e.bIt("submit",function(){return a.reportSubmit(a.studentReportsFrm.value,"events")}),e.j41(58,"div",3)(59,"p-inputGroup"),e.nrm(60,"p-multiSelect",4),e.k0s()(),e.j41(61,"div",3)(62,"p-inputGroup"),e.nrm(63,"p-multiSelect",5),e.k0s()(),e.j41(64,"div",3)(65,"p-inputGroup"),e.nrm(66,"p-multiSelect",6),e.k0s()(),e.j41(67,"div",3)(68,"p-button",7),e.EFF(69,"Create Report"),e.k0s()()()(),e.j41(70,"p-tabPanel",11),e.EFF(71," Note: Please select the Students Class, Section, and Fin Year for Create Report."),e.nrm(72,"br")(73,"br"),e.j41(74,"form",2),e.bIt("submit",function(){return a.reportSubmit(a.studentReportsFrm.value,"tc")}),e.j41(75,"div",3)(76,"p-inputGroup"),e.nrm(77,"p-multiSelect",4),e.k0s()(),e.j41(78,"div",3)(79,"p-inputGroup"),e.nrm(80,"p-multiSelect",5),e.k0s()(),e.j41(81,"div",3)(82,"p-inputGroup"),e.nrm(83,"p-multiSelect",6),e.k0s()(),e.j41(84,"div",3)(85,"p-button",7),e.EFF(86,"Create Report"),e.k0s()()()(),e.j41(87,"p-tabPanel",12)(88,"section",1),e.EFF(89," Note: Please select the Students Class, Section, and Fin Year for Create Report."),e.nrm(90,"br")(91,"br"),e.j41(92,"form",2),e.bIt("submit",function(){return a.reportSubmit(a.studentReportsFrm.value,"icard")}),e.j41(93,"div",3)(94,"p-inputGroup"),e.nrm(95,"p-multiSelect",4),e.k0s()(),e.j41(96,"div",3)(97,"p-inputGroup"),e.nrm(98,"p-multiSelect",5),e.k0s()(),e.j41(99,"div",3)(100,"p-inputGroup"),e.nrm(101,"p-multiSelect",6),e.k0s()(),e.j41(102,"div",3)(103,"p-button",7),e.EFF(104,"Create Report"),e.k0s()()()()(),e.j41(105,"p-tabPanel",13),e.EFF(106," Note: Please select the Students Class, Section, and Fin Year for Create Report."),e.nrm(107,"br")(108,"br"),e.j41(109,"form",2),e.bIt("submit",function(){return a.reportSubmit(a.studentReportsFrm.value,"teacher")}),e.j41(110,"div",3)(111,"p-inputGroup"),e.nrm(112,"p-multiSelect",4),e.k0s()(),e.j41(113,"div",3)(114,"p-inputGroup"),e.nrm(115,"p-multiSelect",5),e.k0s()(),e.j41(116,"div",3)(117,"p-inputGroup"),e.nrm(118,"p-multiSelect",6),e.k0s()(),e.j41(119,"div",3)(120,"p-button",7),e.EFF(121,"Create Report"),e.k0s()()()(),e.j41(122,"p-tabPanel",14),e.EFF(123," Note: Please select the Students Class, Section, and Fin Year for Create Report."),e.nrm(124,"br")(125,"br"),e.j41(126,"form",2),e.bIt("submit",function(){return a.reportSubmit(a.studentReportsFrm.value,"result")}),e.j41(127,"div",3)(128,"p-inputGroup"),e.nrm(129,"p-multiSelect",4),e.k0s()(),e.j41(130,"div",3)(131,"p-inputGroup"),e.nrm(132,"p-multiSelect",5),e.k0s()(),e.j41(133,"div",3)(134,"p-inputGroup"),e.nrm(135,"p-multiSelect",6),e.k0s()(),e.j41(136,"div",3)(137,"p-button",7),e.EFF(138,"Create Report"),e.k0s()()()(),e.j41(139,"p-tabPanel",15),e.EFF(140," Note: Book Create Report."),e.nrm(141,"br")(142,"br"),e.j41(143,"form",2),e.bIt("submit",function(){return a.reportSubmit(a.studentReportsFrm.value,"books")}),e.j41(144,"div",3)(145,"p-inputGroup"),e.nrm(146,"p-multiSelect",4),e.k0s()(),e.j41(147,"div",3)(148,"p-inputGroup"),e.nrm(149,"p-multiSelect",5),e.k0s()(),e.j41(150,"div",3)(151,"p-inputGroup"),e.nrm(152,"p-multiSelect",6),e.k0s()(),e.j41(153,"div",3)(154,"p-button",7),e.EFF(155,"Create Report"),e.k0s()()()()()),2&v&&(e.R7$(6),e.Y8G("formGroup",a.studentReportsFrm),e.R7$(3),e.Y8G("options",a.classList),e.R7$(3),e.Y8G("options",a.sectionList),e.R7$(3),e.Y8G("options",a.finyearList),e.R7$(8),e.Y8G("formGroup",a.studentReportsFrm),e.R7$(3),e.Y8G("options",a.classList),e.R7$(3),e.Y8G("options",a.sectionList),e.R7$(3),e.Y8G("options",a.finyearList),e.R7$(8),e.Y8G("formGroup",a.studentReportsFrm),e.R7$(3),e.Y8G("options",a.classList),e.R7$(3),e.Y8G("options",a.sectionList),e.R7$(3),e.Y8G("options",a.finyearList),e.R7$(8),e.Y8G("formGroup",a.studentReportsFrm),e.R7$(3),e.Y8G("options",a.classList),e.R7$(3),e.Y8G("options",a.sectionList),e.R7$(3),e.Y8G("options",a.finyearList),e.R7$(8),e.Y8G("formGroup",a.studentReportsFrm),e.R7$(3),e.Y8G("options",a.classList),e.R7$(3),e.Y8G("options",a.sectionList),e.R7$(3),e.Y8G("options",a.finyearList),e.R7$(9),e.Y8G("formGroup",a.studentReportsFrm),e.R7$(3),e.Y8G("options",a.classList),e.R7$(3),e.Y8G("options",a.sectionList),e.R7$(3),e.Y8G("options",a.finyearList),e.R7$(8),e.Y8G("formGroup",a.studentReportsFrm),e.R7$(3),e.Y8G("options",a.classList),e.R7$(3),e.Y8G("options",a.sectionList),e.R7$(3),e.Y8G("options",a.finyearList),e.R7$(8),e.Y8G("formGroup",a.studentReportsFrm),e.R7$(3),e.Y8G("options",a.classList),e.R7$(3),e.Y8G("options",a.sectionList),e.R7$(3),e.Y8G("options",a.finyearList),e.R7$(8),e.Y8G("formGroup",a.studentReportsFrm),e.R7$(3),e.Y8G("options",a.classList),e.R7$(3),e.Y8G("options",a.sectionList),e.R7$(3),e.Y8G("options",a.finyearList))},dependencies:[t.MD,F.I,F.M,y.fd,y.JQ,y.Kp,f.X1,f.qT,f.BC,f.cb,f.j4,f.JD,f.YN,G.u,R.A,s.tm,s.$n,S.iV,S.KF],styles:[".tab-body[_ngcontent-%COMP%]{min-height:60vh}.tab-body[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%]{margin-bottom:20px}"]})}return j})()},4945:(Y,D,p)=>{p.d(D,{JQ:()=>W,Kp:()=>K,fd:()=>at});var m=p(177),t=p(3953),f=p(5779),s=p(1455),R=p(8148),F=p(8807),G=p(1512),S=p(563),y=p(8542),e=p(4420);const k=["*"];function L(l,b){1&l&&t.eu8(0)}function P(l,b){if(1&l&&(t.qex(0),t.DNE(1,L,1,0,"ng-container",3),t.bVm()),2&l){const i=t.XpG(2);t.R7$(),t.Y8G("ngTemplateOutlet",i.contentTemplate)}}function n(l,b){if(1&l&&(t.j41(0,"div",1),t.SdG(1),t.DNE(2,P,2,1,"ng-container",2),t.k0s()),2&l){const i=t.XpG();t.Y8G("hidden",!i.selected),t.BMQ("id",i.tabView.getTabContentId(i.id))("aria-hidden",!i.selected)("aria-labelledby",i.tabView.getTabHeaderActionId(i.id))("data-pc-name","tabpanel"),t.R7$(2),t.Y8G("ngIf",i.contentTemplate&&(i.cache?i.loaded:i.selected))}}const j=["content"],B=["navbar"],u=["prevBtn"],v=["nextBtn"],a=["inkbar"],h=["elementToObserve"],C=l=>({"p-tabview p-component":!0,"p-tabview-scrollable":l}),w=(l,b)=>({"p-highlight":l,"p-disabled":b});function M(l,b){1&l&&t.nrm(0,"ChevronLeftIcon"),2&l&&t.BMQ("aria-hidden",!0)}function A(l,b){}function V(l,b){1&l&&t.DNE(0,A,0,0,"ng-template")}function x(l,b){if(1&l){const i=t.RV6();t.j41(0,"button",15,4),t.bIt("click",function(){t.eBV(i);const r=t.XpG();return t.Njj(r.navBackward())}),t.DNE(2,M,1,1,"ChevronLeftIcon",16)(3,V,1,0,null,17),t.k0s()}if(2&l){const i=t.XpG();t.BMQ("tabindex",i.tabindex)("aria-label",i.prevButtonAriaLabel),t.R7$(2),t.Y8G("ngIf",!i.previousIconTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",i.previousIconTemplate)}}function N(l,b){if(1&l&&t.nrm(0,"span",26),2&l){const i=t.XpG(3).$implicit;t.Y8G("ngClass",i.leftIcon)}}function U(l,b){}function T(l,b){1&l&&t.DNE(0,U,0,0,"ng-template")}function O(l,b){if(1&l&&(t.j41(0,"span",27),t.DNE(1,T,1,0,null,17),t.k0s()),2&l){const i=t.XpG(3).$implicit;t.R7$(),t.Y8G("ngTemplateOutlet",i.leftIconTemplate)}}function c(l,b){if(1&l&&t.nrm(0,"span",28),2&l){const i=t.XpG(3).$implicit;t.Y8G("ngClass",i.rightIcon)}}function g(l,b){}function _(l,b){1&l&&t.DNE(0,g,0,0,"ng-template")}function E(l,b){if(1&l&&(t.j41(0,"span",29),t.DNE(1,_,1,0,null,17),t.k0s()),2&l){const i=t.XpG(3).$implicit;t.R7$(),t.Y8G("ngTemplateOutlet",i.rightIconTemplate)}}function $(l,b){if(1&l&&(t.qex(0),t.DNE(1,N,1,1,"span",21)(2,O,2,1,"span",22),t.j41(3,"span",23),t.EFF(4),t.k0s(),t.DNE(5,c,1,1,"span",24)(6,E,2,1,"span",25),t.bVm()),2&l){const i=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf",i.leftIcon&&!i.leftIconTemplate),t.R7$(),t.Y8G("ngIf",i.leftIconTemplate),t.R7$(2),t.JRh(i.header),t.R7$(),t.Y8G("ngIf",i.rightIcon&&!i.rightIconTemplate),t.R7$(),t.Y8G("ngIf",i.rightIconTemplate)}}function X(l,b){1&l&&t.eu8(0)}function H(l,b){if(1&l){const i=t.RV6();t.j41(0,"TimesIcon",32),t.bIt("click",function(r){t.eBV(i);const d=t.XpG(3).$implicit,I=t.XpG();return t.Njj(I.close(r,d))}),t.k0s()}2&l&&t.Y8G("styleClass","p-tabview-close")}function z(l,b){1&l&&t.nrm(0,"span",33)}function Q(l,b){}function J(l,b){1&l&&t.DNE(0,Q,0,0,"ng-template")}function Z(l,b){if(1&l&&(t.qex(0),t.DNE(1,H,1,1,"TimesIcon",30)(2,z,1,0,"span",31)(3,J,1,0,null,17),t.bVm()),2&l){const i=t.XpG(2).$implicit;t.R7$(),t.Y8G("ngIf",!i.closeIconTemplate),t.R7$(),t.Y8G("ngIf",i.closeIconTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",i.closeIconTemplate)}}function q(l,b){if(1&l){const i=t.RV6();t.j41(0,"li",19)(1,"a",20),t.bIt("click",function(r){t.eBV(i);const d=t.XpG().$implicit,I=t.XpG();return t.Njj(I.open(r,d))})("keydown",function(r){t.eBV(i);const d=t.XpG().$implicit,I=t.XpG();return t.Njj(I.onTabKeyDown(r,d))}),t.DNE(2,$,7,5,"ng-container",16)(3,X,1,0,"ng-container",17)(4,Z,4,3,"ng-container",16),t.k0s()()}if(2&l){const i=t.XpG(),o=i.$implicit,r=i.index,d=t.XpG();t.HbH(o.headerStyleClass),t.Y8G("ngClass",t.l_i(19,w,o.selected,o.disabled))("ngStyle",o.headerStyle),t.BMQ("data-p-disabled",o.disabled),t.R7$(),t.Y8G("pTooltip",o.tooltip)("tooltipPosition",o.tooltipPosition)("positionStyle",o.tooltipPositionStyle)("tooltipStyleClass",o.tooltipStyleClass),t.BMQ("id",d.getTabHeaderActionId(o.id))("aria-controls",d.getTabContentId(o.id))("aria-selected",o.selected)("tabindex",o.disabled||!o.selected?"-1":d.tabindex)("aria-disabled",o.disabled)("data-pc-index",r)("data-pc-section","headeraction"),t.R7$(),t.Y8G("ngIf",!o.headerTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",o.headerTemplate),t.R7$(),t.Y8G("ngIf",o.closable)}}function tt(l,b){1&l&&t.DNE(0,q,5,22,"li",18),2&l&&t.Y8G("ngIf",!b.$implicit.closed)}function et(l,b){1&l&&t.nrm(0,"ChevronRightIcon"),2&l&&t.BMQ("aria-hidden",!0)}function nt(l,b){}function it(l,b){1&l&&t.DNE(0,nt,0,0,"ng-template")}function st(l,b){if(1&l){const i=t.RV6();t.j41(0,"button",34,5),t.bIt("click",function(){t.eBV(i);const r=t.XpG();return t.Njj(r.navForward())}),t.DNE(2,et,1,1,"ChevronRightIcon",16)(3,it,1,0,null,17),t.k0s()}if(2&l){const i=t.XpG();t.BMQ("tabindex",i.tabindex)("aria-label",i.nextButtonAriaLabel),t.R7$(2),t.Y8G("ngIf",!i.nextIconTemplate),t.R7$(),t.Y8G("ngTemplateOutlet",i.nextIconTemplate)}}let K=(()=>{class l{el;viewContainer;cd;closable=!1;get headerStyle(){return this._headerStyle}set headerStyle(i){this._headerStyle=i,this.tabView.cd.markForCheck()}get headerStyleClass(){return this._headerStyleClass}set headerStyleClass(i){this._headerStyleClass=i,this.tabView.cd.markForCheck()}cache=!0;tooltip;tooltipPosition="top";tooltipPositionStyle="absolute";tooltipStyleClass;get selected(){return!!this._selected}set selected(i){this._selected=i,this.loaded||this.cd.detectChanges(),i&&(this.loaded=!0)}get disabled(){return!!this._disabled}set disabled(i){this._disabled=i,this.tabView.cd.markForCheck()}get header(){return this._header}set header(i){this._header=i,Promise.resolve().then(()=>{this.tabView.updateInkBar(),this.tabView.cd.markForCheck()})}get leftIcon(){return this._leftIcon}set leftIcon(i){this._leftIcon=i,this.tabView.cd.markForCheck()}get rightIcon(){return this._rightIcon}set rightIcon(i){this._rightIcon=i,this.tabView.cd.markForCheck()}templates;closed=!1;view=null;_headerStyle;_headerStyleClass;_selected;_disabled;_header;_leftIcon;_rightIcon=void 0;loaded=!1;id;contentTemplate;headerTemplate;leftIconTemplate;rightIconTemplate;closeIconTemplate;tabView;constructor(i,o,r,d){this.el=o,this.viewContainer=r,this.cd=d,this.tabView=i,this.id=(0,e._Y)()}ngAfterContentInit(){this.templates.forEach(i=>{switch(i.getType()){case"header":this.headerTemplate=i.template;break;case"content":default:this.contentTemplate=i.template;break;case"righticon":this.rightIconTemplate=i.template;break;case"lefticon":this.leftIconTemplate=i.template;break;case"closeicon":this.closeIconTemplate=i.template}})}ngOnDestroy(){this.view=null}static \u0275fac=function(o){return new(o||l)(t.rXU((0,t.Rfq)(()=>W)),t.rXU(t.aKT),t.rXU(t.c1b),t.rXU(t.gRc))};static \u0275cmp=t.VBU({type:l,selectors:[["p-tabPanel"]],contentQueries:function(o,r,d){if(1&o&&t.wni(d,f.Ei,4),2&o){let I;t.mGM(I=t.lsd())&&(r.templates=I)}},hostAttrs:[1,"p-element"],inputs:{closable:[2,"closable","closable",t.L39],headerStyle:"headerStyle",headerStyleClass:"headerStyleClass",cache:[2,"cache","cache",t.L39],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",selected:"selected",disabled:"disabled",header:"header",leftIcon:"leftIcon",rightIcon:"rightIcon"},features:[t.GFd],ngContentSelectors:k,decls:1,vars:1,consts:[["class","p-tabview-panel","role","tabpanel",3,"hidden",4,"ngIf"],["role","tabpanel",1,"p-tabview-panel",3,"hidden"],[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(o,r){1&o&&(t.NAR(),t.DNE(0,n,3,6,"div",0)),2&o&&t.Y8G("ngIf",!r.closed)},dependencies:[m.bT,m.T3],encapsulation:2})}return l})(),W=(()=>{class l{platformId;el;cd;renderer;style;styleClass;controlClose;scrollable;get activeIndex(){return this._activeIndex}set activeIndex(i){this._activeIndex=i,this.preventActiveIndexPropagation?this.preventActiveIndexPropagation=!1:this.tabs&&this.tabs.length&&null!=this._activeIndex&&this.tabs.length>this._activeIndex&&(this.findSelectedTab().selected=!1,this.tabs[this._activeIndex].selected=!0,this.tabChanged=!0,this.updateScrollBar(i))}selectOnFocus=!1;nextButtonAriaLabel;prevButtonAriaLabel;autoHideButtons=!0;tabindex=0;onChange=new t.bkB;onClose=new t.bkB;activeIndexChange=new t.bkB;content;navbar;prevBtn;nextBtn;inkbar;tabPanels;templates;initialized;tabs;_activeIndex;preventActiveIndexPropagation;tabChanged;backwardIsDisabled=!0;forwardIsDisabled=!1;tabChangesSubscription;nextIconTemplate;previousIconTemplate;resizeObserver;container;list;buttonVisible;elementToObserve;constructor(i,o,r,d){this.platformId=i,this.el=o,this.cd=r,this.renderer=d}ngAfterContentInit(){this.initTabs(),this.tabChangesSubscription=this.tabPanels.changes.subscribe(i=>{this.initTabs(),this.refreshButtonState(),this.callResizeObserver()}),this.templates.forEach(i=>{switch(i.getType()){case"previousicon":this.previousIconTemplate=i.template;break;case"nexticon":this.nextIconTemplate=i.template}})}callResizeObserver(){(0,m.UE)(this.platformId)&&this.autoHideButtons&&this.bindResizeObserver()}ngAfterViewInit(){this.callResizeObserver()}bindResizeObserver(){this.container=s.D.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=s.D.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.resizeObserver=new ResizeObserver(()=>{this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.detectChanges()}),this.resizeObserver.observe(this.container)}unbindResizeObserver(){this.resizeObserver.unobserve(this.elementToObserve.nativeElement),this.resizeObserver=null}ngAfterViewChecked(){(0,m.UE)(this.platformId)&&this.tabChanged&&(this.updateInkBar(),this.tabChanged=!1)}ngOnDestroy(){this.tabChangesSubscription&&this.tabChangesSubscription.unsubscribe(),this.resizeObserver&&this.unbindResizeObserver()}getTabHeaderActionId(i){return`${i}_header_action`}getTabContentId(i){return`${i}_content`}initTabs(){this.tabs=this.tabPanels.toArray(),!this.findSelectedTab()&&this.tabs.length&&(null!=this.activeIndex&&this.tabs.length>this.activeIndex?this.tabs[this.activeIndex].selected=!0:this.tabs[0].selected=!0,this.tabChanged=!0),this.cd.markForCheck()}onTabKeyDown(i,o){switch(i.code){case"ArrowLeft":this.onTabArrowLeftKey(i);break;case"ArrowRight":this.onTabArrowRightKey(i);break;case"Home":case"PageUp":this.onTabHomeKey(i);break;case"End":case"PageDown":this.onTabEndKey(i);break;case"Enter":case"Space":this.open(i,o)}}onTabArrowLeftKey(i){const o=this.findPrevHeaderAction(i.target.parentElement),r=s.D.getAttribute(o,"data-pc-index");o?this.changeFocusedTab(i,o,r):this.onTabEndKey(i),i.preventDefault()}onTabArrowRightKey(i){const o=this.findNextHeaderAction(i.target.parentElement),r=s.D.getAttribute(o,"data-pc-index");o?this.changeFocusedTab(i,o,r):this.onTabHomeKey(i),i.preventDefault()}onTabHomeKey(i){const o=this.findFirstHeaderAction(),r=s.D.getAttribute(o,"data-pc-index");this.changeFocusedTab(i,o,r),i.preventDefault()}onTabEndKey(i){const o=this.findLastHeaderAction(),r=s.D.getAttribute(o,"data-pc-index");this.changeFocusedTab(i,o,r),i.preventDefault()}changeFocusedTab(i,o,r){o&&(s.D.focus(o),o.scrollIntoView({block:"nearest"}),this.selectOnFocus)&&this.open(i,this.tabs[r])}findNextHeaderAction(i,o=!1){const r=o?i:i.nextElementSibling;return r?s.D.getAttribute(r,"data-p-disabled")||"inkbar"===s.D.getAttribute(r,"data-pc-section")?this.findNextHeaderAction(r):s.D.findSingle(r,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(i,o=!1){const r=o?i:i.previousElementSibling;return r?s.D.getAttribute(r,"data-p-disabled")||"inkbar"===s.D.getAttribute(r,"data-pc-section")?this.findPrevHeaderAction(r):s.D.findSingle(r,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){return this.findNextHeaderAction(this.navbar.nativeElement.firstElementChild,!0)}findLastHeaderAction(){const i=this.navbar.nativeElement.lastElementChild,o="inkbar"===s.D.getAttribute(i,"data-pc-section")?i.previousElementSibling:i;return this.findPrevHeaderAction(o,!0)}open(i,o){if(o.disabled)i&&i.preventDefault();else{if(!o.selected){let r=this.findSelectedTab();r&&(r.selected=!1),this.tabChanged=!0,o.selected=!0;let d=this.findTabIndex(o);this.preventActiveIndexPropagation=!0,this.activeIndexChange.emit(d),this.onChange.emit({originalEvent:i,index:d}),this.updateScrollBar(d)}i&&i.preventDefault()}}close(i,o){this.controlClose?this.onClose.emit({originalEvent:i,index:this.findTabIndex(o),close:()=>{this.closeTab(o)}}):(this.closeTab(o),this.onClose.emit({originalEvent:i,index:this.findTabIndex(o)}))}closeTab(i){if(!i.disabled){if(i.selected){this.tabChanged=!0,i.selected=!1;for(let o=0;o<this.tabs.length;o++){let r=this.tabs[o];if(!r.closed&&!i.disabled){r.selected=!0;break}}}i.closed=!0,setTimeout(()=>{this.updateInkBar()})}}findSelectedTab(){for(let i=0;i<this.tabs.length;i++)if(this.tabs[i].selected)return this.tabs[i];return null}findTabIndex(i){let o=-1;for(let r=0;r<this.tabs.length;r++)if(this.tabs[r]==i){o=r;break}return o}getBlockableElement(){return this.el.nativeElement.children[0]}updateInkBar(){if((0,m.UE)(this.platformId)&&this.navbar){const i=s.D.findSingle(this.navbar.nativeElement,"li.p-highlight");if(!i)return;this.inkbar.nativeElement.style.width=s.D.getWidth(i)+"px",this.inkbar.nativeElement.style.left=s.D.getOffset(i).left-s.D.getOffset(this.navbar.nativeElement).left+"px"}}updateScrollBar(i){let o=this.navbar.nativeElement.children[i];o&&o.scrollIntoView({block:"nearest"})}updateButtonState(){const i=this.content.nativeElement,{scrollLeft:o,scrollWidth:r}=i,d=s.D.getWidth(i);this.backwardIsDisabled=0===o,this.forwardIsDisabled=Math.round(o)===r-d}refreshButtonState(){this.container=s.D.findSingle(this.el.nativeElement,'[data-pc-section="navcontent"]'),this.list=s.D.findSingle(this.el.nativeElement,'[data-pc-section="nav"]'),this.list.offsetWidth>=this.container.offsetWidth&&(this.buttonVisible=this.list.offsetWidth>=this.container.offsetWidth,this.updateButtonState(),this.cd.markForCheck())}onScroll(i){this.scrollable&&this.updateButtonState(),i.preventDefault()}getVisibleButtonWidths(){return[this.prevBtn?.nativeElement,this.nextBtn?.nativeElement].reduce((i,o)=>o?i+s.D.getWidth(o):i,0)}navBackward(){const i=this.content.nativeElement,o=s.D.getWidth(i)-this.getVisibleButtonWidths(),r=i.scrollLeft-o;i.scrollLeft=r<=0?0:r}navForward(){const i=this.content.nativeElement,o=s.D.getWidth(i)-this.getVisibleButtonWidths(),r=i.scrollLeft+o,d=i.scrollWidth-o;i.scrollLeft=r>=d?d:r}static \u0275fac=function(o){return new(o||l)(t.rXU(t.Agw),t.rXU(t.aKT),t.rXU(t.gRc),t.rXU(t.sFG))};static \u0275cmp=t.VBU({type:l,selectors:[["p-tabView"]],contentQueries:function(o,r,d){if(1&o&&(t.wni(d,K,4),t.wni(d,f.Ei,4)),2&o){let I;t.mGM(I=t.lsd())&&(r.tabPanels=I),t.mGM(I=t.lsd())&&(r.templates=I)}},viewQuery:function(o,r){if(1&o&&(t.GBs(j,5),t.GBs(B,5),t.GBs(u,5),t.GBs(v,5),t.GBs(a,5),t.GBs(h,5)),2&o){let d;t.mGM(d=t.lsd())&&(r.content=d.first),t.mGM(d=t.lsd())&&(r.navbar=d.first),t.mGM(d=t.lsd())&&(r.prevBtn=d.first),t.mGM(d=t.lsd())&&(r.nextBtn=d.first),t.mGM(d=t.lsd())&&(r.inkbar=d.first),t.mGM(d=t.lsd())&&(r.elementToObserve=d.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",controlClose:[2,"controlClose","controlClose",t.L39],scrollable:[2,"scrollable","scrollable",t.L39],activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",t.L39],nextButtonAriaLabel:"nextButtonAriaLabel",prevButtonAriaLabel:"prevButtonAriaLabel",autoHideButtons:[2,"autoHideButtons","autoHideButtons",t.L39],tabindex:[2,"tabindex","tabindex",t.Udg]},outputs:{onChange:"onChange",onClose:"onClose",activeIndexChange:"activeIndexChange"},features:[t.GFd],ngContentSelectors:k,decls:14,vars:13,consts:[["elementToObserve",""],["content",""],["navbar",""],["inkbar",""],["prevBtn",""],["nextBtn",""],[3,"ngClass","ngStyle"],[1,"p-tabview-nav-container"],["class","p-tabview-nav-prev p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-nav-content",3,"scroll"],["role","tablist",1,"p-tabview-nav"],["ngFor","",3,"ngForOf"],["role","presentation","aria-hidden","true",1,"p-tabview-ink-bar"],["class","p-tabview-nav-next p-tabview-nav-btn p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-tabview-panels"],["type","button","pRipple","",1,"p-tabview-nav-prev","p-tabview-nav-btn","p-link",3,"click"],[4,"ngIf"],[4,"ngTemplateOutlet"],["role","presentation",3,"ngClass","ngStyle","class",4,"ngIf"],["role","presentation",3,"ngClass","ngStyle"],["role","tab","pRipple","",1,"p-tabview-nav-link",3,"click","keydown","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass"],["class","p-tabview-left-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-left-icon",4,"ngIf"],[1,"p-tabview-title"],["class","p-tabview-right-icon",3,"ngClass",4,"ngIf"],["class","p-tabview-right-icon",4,"ngIf"],[1,"p-tabview-left-icon",3,"ngClass"],[1,"p-tabview-left-icon"],[1,"p-tabview-right-icon",3,"ngClass"],[1,"p-tabview-right-icon"],[3,"styleClass","click",4,"ngIf"],["class","tab.closeIconTemplate",4,"ngIf"],[3,"click","styleClass"],[1,"tab.closeIconTemplate"],["type","button","pRipple","",1,"p-tabview-nav-next","p-tabview-nav-btn","p-link",3,"click"]],template:function(o,r){if(1&o){const d=t.RV6();t.NAR(),t.j41(0,"div",6)(1,"div",7,0),t.DNE(3,x,4,4,"button",8),t.j41(4,"div",9,1),t.bIt("scroll",function(ot){return t.eBV(d),t.Njj(r.onScroll(ot))}),t.j41(6,"ul",10,2),t.DNE(8,tt,1,1,"ng-template",11),t.nrm(9,"li",12,3),t.k0s()(),t.DNE(11,st,4,4,"button",13),t.k0s(),t.j41(12,"div",14),t.SdG(13),t.k0s()()}2&o&&(t.HbH(r.styleClass),t.Y8G("ngClass",t.eq3(11,C,r.scrollable))("ngStyle",r.style),t.BMQ("data-pc-name","tabview"),t.R7$(3),t.Y8G("ngIf",r.scrollable&&!r.backwardIsDisabled&&r.autoHideButtons),t.R7$(),t.BMQ("data-pc-section","navcontent"),t.R7$(2),t.BMQ("data-pc-section","nav"),t.R7$(2),t.Y8G("ngForOf",r.tabs),t.R7$(),t.BMQ("data-pc-section","inkbar"),t.R7$(2),t.Y8G("ngIf",r.scrollable&&!r.forwardIsDisabled&&r.buttonVisible))},dependencies:()=>[m.YU,m.Sq,m.bT,m.T3,m.B3,y.m,S.n,G.A,R.Y,F.v],styles:["@layer primeng{.p-tabview-nav-container{position:relative}.p-tabview-scrollable .p-tabview-nav-container{overflow:hidden}.p-tabview-nav-content{overflow-x:auto;overflow-y:hidden;scroll-behavior:smooth;scrollbar-width:none;overscroll-behavior:contain auto}.p-tabview-nav{display:inline-flex;min-width:100%;margin:0;padding:0;list-style-type:none;flex:1 1 auto}.p-tabview-nav-link{cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;position:relative;text-decoration:none;overflow:hidden}.p-tabview-ink-bar{display:none;z-index:1}.p-tabview-nav-link:focus{z-index:1}.p-tabview-title{line-height:1;white-space:nowrap}.p-tabview-nav-btn{position:absolute;top:0;z-index:2;height:100%;display:flex;align-items:center;justify-content:center}.p-tabview-nav-prev{left:0}.p-tabview-nav-next{right:0}.p-tabview-nav-content::-webkit-scrollbar{display:none}.p-tabview-close{z-index:1}}\n"],encapsulation:2,changeDetection:0})}return l})(),at=(()=>{class l{static \u0275fac=function(o){return new(o||l)};static \u0275mod=t.$C({type:l});static \u0275inj=t.G2t({imports:[m.MD,f.Gg,y.S,S.Z,G.A,R.Y,F.v,f.Gg]})}return l})()}}]);