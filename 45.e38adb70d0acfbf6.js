"use strict";(self.webpackChunkmyschool=self.webpackChunkmyschool||[]).push([[45],{45:(Y,p,a)=>{a.r(p),a.d(p,{UserModule:()=>X});var o=a(177),r=a(9555),h=a(1330),d=a(7887);const u=(0,d.UX)("user"),v=(0,d.Mz)(u,t=>t.user);(0,d.Mz)(u,t=>t);var e=a(3953),f=a(1667),m=a(5779),g=a(1283),b=a(2616),C=a(1141),$=a(9114),S=a(9998),M=a(4827);function I(t,l){if(1&t&&(e.j41(0,"a",19)(1,"figure",20),e.nrm(2,"p-avatar",21),e.k0s(),e.EFF(3),e.k0s()),2&t){const i=e.XpG(2);e.R7$(2),e.FS9("image",i.schoolData.logo?i.BASEURL+"/"+i.schoolData.logo:"https://primefaces.org/cdn/primeng/images/demo/avatar/walter.jpg"),e.R7$(),e.SpI("\xa0\xa0 ",i.schoolData.name," ")}}function y(t,l){if(1&t){const i=e.RV6();e.j41(0,"div",2)(1,"button",3),e.nrm(2,"span",4),e.k0s(),e.DNE(3,I,4,2,"a",5),e.j41(4,"div",6)(5,"ul",7)(6,"li",8)(7,"a",9),e.EFF(8,"Stufee"),e.k0s()(),e.j41(9,"li",8)(10,"a",10),e.EFF(11,"Result"),e.k0s()(),e.j41(12,"li",8)(13,"a",11),e.EFF(14,"Library"),e.k0s()()(),e.j41(15,"ul",12)(16,"li",8)(17,"p-chip")(18,"b",13),e.EFF(19),e.nI1(20,"titlecase"),e.k0s()(),e.EFF(21,"\xa0\xa0\xa0\xa0 "),e.k0s(),e.j41(22,"li",14),e.nrm(23,"p-avatar",15),e.EFF(24),e.nI1(25,"titlecase"),e.nI1(26,"titlecase"),e.j41(27,"p-button",16),e.bIt("click",function(){e.eBV(i);const s=e.XpG();return e.Njj(s.logoutSubmit())}),e.nrm(28,"i",17),e.k0s()(),e.nrm(29,"li",18),e.k0s()()()}if(2&t){const i=e.XpG();e.R7$(3),e.Y8G("ngIf",i.schoolData),e.R7$(16),e.JRh(e.bMT(20,5,i.type)),e.R7$(4),e.FS9("image",i.user.profile_pic?i.user.profile_pic:"https://primefaces.org/cdn/primeng/images/demo/avatar/amyelsner.png"),e.R7$(),e.Lme("\xa0\xa0",e.bMT(25,7,i.user.fname)," ",e.bMT(26,9,i.user.lname),"\xa0\xa0\xa0\xa0\xa0\xa0 ")}}let O=(()=>{class t{constructor(i,n,s){this._appservice=i,this._router=n,this._message=s,this.data=sessionStorage.getItem("user"),this.type=sessionStorage.getItem("type"),this.BASEURL=g.c.apiURL,this.user=null}ngOnInit(){this._appservice.getData(sessionStorage.getItem("uid"),sessionStorage.getItem("type")||"").subscribe(i=>{this.user=i[0],sessionStorage.setItem("school_id",this.user.school_id),this._appservice.getSchool(this.user.school_id).subscribe(n=>{this.schoolData=n.results[0]})})}logoutSubmit(){let i=sessionStorage.getItem("uid");i&&this._appservice.logout(i).subscribe(n=>{sessionStorage.clear(),this._message.add({severity:"success",summary:"logout Success!",detail:"Message Content"}),this._router.navigate([""])})}static#e=this.\u0275fac=function(n){return new(n||t)(e.rXU(b.d),e.rXU(r.Ix),e.rXU(m.bg))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-inner-header"]],features:[e.Jv_([m.bg])],decls:3,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","full-width",2,"padding","0"],["class","container-fluid d-flex",4,"ngIf"],[1,"container-fluid","d-flex"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarTogglerDemo03","aria-controls","navbarTogglerDemo03","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["class","navbar-brand d-flex align-items-center","href","#",4,"ngIf"],["id","navbarTogglerDemo03",1,"collapse","navbar-collapse",2,"justify-content","space-between"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","href","#",1,"nav-link","active"],["href","#",1,"nav-link"],["href","#","tabindex","-1","aria-disabled","true",1,"nav-link","disabled"],[1,"navbar-nav","me-right","navbar-dark","text-white","align-items-center","d-flex"],[2,"font-size","20px"],[1,"nav-item","justify-content","align-items-center","d-flex"],["size","large","pBadge","","value","4","severity","danger",3,"image"],["severity","danger","size","small",3,"click"],[1,"pi","pi-power-off"],[1,"nav-item",2,"width","80px"],["href","#",1,"navbar-brand","d-flex","align-items-center"],[2,"margin","0"],["pBadge","","value","4","size","xlarge","badgeSize","large",3,"image"]],template:function(n,s){1&n&&(e.j41(0,"nav",0),e.DNE(1,y,30,11,"div",1),e.k0s(),e.nrm(2,"p-toast")),2&n&&(e.R7$(),e.Y8G("ngIf",s.user))},dependencies:[o.bT,C.$n,$.e,S.y8,M.v,o.PV]})}return t})();function P(t,l){if(1&t&&(e.j41(0,"a",4),e.nrm(1,"i"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()),2&t){const i=e.XpG().$implicit;e.R7$(),e.HbH(i.icon),e.R7$(),e.SpI(" ",e.bMT(3,4,i.title),"")}}function R(t,l){if(1&t&&(e.j41(0,"a",5),e.nrm(1,"i"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()),2&t){const i=e.XpG().$implicit;e.Y8G("routerLink",i.url),e.R7$(),e.HbH(i.icon),e.R7$(),e.SpI(" ",e.bMT(3,5,i.title),"")}}function F(t,l){if(1&t&&(e.j41(0,"a",5),e.nrm(1,"i"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()),2&t){const i=e.XpG().$implicit;e.Y8G("routerLink",i.url),e.R7$(),e.HbH(i.icon),e.R7$(),e.SpI(" ",e.bMT(3,5,i.title),"")}}function k(t,l){if(1&t&&(e.j41(0,"a",4),e.nrm(1,"i"),e.EFF(2),e.nI1(3,"titlecase"),e.k0s()),2&t){const i=e.XpG().$implicit;e.R7$(),e.HbH(i.icon),e.R7$(),e.SpI(" ",e.bMT(3,4,i.title),"")}}function x(t,l){if(1&t){const i=e.RV6();e.j41(0,"li",10),e.bIt("click",function(){const s=e.eBV(i).$implicit,c=e.XpG(3);return e.Njj(c.sidebarActive(s))}),e.DNE(1,F,4,7,"a",5)(2,k,4,6,"a",4),e.nrm(3,"hr"),e.k0s()}if(2&t){const i=l.$implicit;e.R7$(),e.vxM(i.disable?2:1)}}function T(t,l){if(1&t&&(e.j41(0,"ul",8),e.DNE(1,x,4,1,"li",9),e.k0s()),2&t){const i=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",i.child)}}function j(t,l){if(1&t){const i=e.RV6();e.j41(0,"li",3),e.bIt("click",function(){const s=e.eBV(i).$implicit,c=e.XpG();return e.Njj(c.sidebarActive(s))}),e.DNE(1,P,4,6,"a",4)(2,R,4,7,"a",5),e.nrm(3,"hr",6),e.DNE(4,T,2,1,"ul",7),e.k0s()}if(2&t){const i=l.$implicit;e.Y8G("ngClass",i.active?"active":""),e.R7$(),e.vxM(i.disable?1:2),e.R7$(2),e.Y8G("ngClass",i.child?"haschild":""),e.R7$(),e.Y8G("ngIf",i.child)}}let A=(()=>{class t{constructor(){this.navigation=[]}sidebarActive(i){this.navigation.map(n=>{n.active=!1}),i.active=!0}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-sidebar"]],inputs:{navigation:"navigation"},decls:3,vars:1,consts:[[1,"row","sidebar"],[1,"nav-list"],["class","nav-item",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"nav-item",3,"click","ngClass"],[1,"disabled"],[3,"routerLink"],[3,"ngClass"],["class","child-link nav-list",4,"ngIf"],[1,"child-link","nav-list"],["class","nav-item",3,"click",4,"ngFor","ngForOf"],[1,"nav-item",3,"click"]],template:function(n,s){1&n&&(e.j41(0,"nav",0)(1,"ul",1),e.DNE(2,j,5,4,"li",2),e.k0s()()),2&n&&(e.R7$(2),e.Y8G("ngForOf",s.navigation))},dependencies:[o.YU,o.Sq,o.bT,r.Wk,o.PV],styles:[".sidebar[_ngcontent-%COMP%]{padding-top:40px}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding-left:0;width:100%}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin:0;width:100%}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:6px 15px;width:100%;display:flex;align-items:center;font-size:18px;color:#444}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;background-color:#444;color:#fff}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{opacity:.7}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:12px}.sidebar[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding-left:15px;background-color:#f1f1f1}"]})}return t})();var G=a(7076);function E(t,l){1&t&&(e.j41(0,"div",8),e.nrm(1,"span",9),e.k0s())}const D=[{path:"",component:(()=>{class t{constructor(i,n,s,c){this._router=i,this._userData=n,this._loaderAPI=s,this._store=c,this.isSidebarOpen=!0,this.breadcrumb=[{title:"Home",url:"",icon:"home",active:!1},{title:"Profile",url:"profile",icon:"user",active:!0}],this.isloader=!1,this.type=sessionStorage.getItem("type")||"",this.id=sessionStorage.getItem("uid"),this.navlist=[],this.studentNavList=[{active:!0,disable:!1,title:"profile",url:`student/${this.id}/profile`,icon:"user"},{active:!1,disable:!1,title:"events",url:`student/${this.id}/events`,icon:"calendar"},{active:!1,disable:!1,title:"Reports",url:`student/${this.id}/report`,icon:" fa-solid fa-square-poll-vertical"},{active:!1,disable:!1,title:"library",url:`student/${this.id}/library`,icon:"book"},{active:!1,disable:!1,title:"Request & Support",url:`student/${this.id}/support`,icon:"book"},{active:!1,disable:!1,title:"Leave management",url:`student/${this.id}/lms`,icon:"book"},{active:!1,disable:!1,title:"logout",url:"/",icon:" fa-solid fa-power-off"}],this.parentNavList=[{active:!0,disable:!1,title:"profile",url:"profile",icon:"user"},{active:!1,disable:!1,title:"fee Slip",url:"/",icon:" fa-solid fa-money-check-dollar"},{active:!1,disable:!1,title:"event list",url:"/",icon:"calendar"},{active:!1,disable:!1,title:"Results",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,disable:!1,title:"logout",url:"/",icon:" fa-solid fa-power-off"}],this.teacherNavList=[{active:!1,disable:!1,title:"Student manegement",url:`teacher/${this.id}/students`,icon:"pi pi-user"},{active:!1,disable:!0,title:"result manegement",url:`teacher/${this.id}/results`,icon:"pi pi-file-excel"},{active:!1,disable:!1,title:"event manegement",url:`teacher/${this.id}/events`,icon:"pi pi-megaphone"},{active:!1,disable:!1,title:"Parent manegement",url:`teacher/${this.id}/parents`,icon:"pi pi-users"},{active:!1,disable:!0,title:"library manegement",url:`teacher/${this.id}/library`,icon:"pi pi-book"},{active:!1,disable:!1,title:"Teacher manegement",url:`teacher/${this.id}/teachers`,icon:"pi pi-server"},{active:!1,disable:!0,title:"Report",url:`teacher/${this.id}/report`,icon:"pi pi-file-word",child:[{active:!1,disable:!1,title:"students",url:`teacher/${this.id}/report`,icon:"pi pi-file-word"}]},{active:!1,disable:!1,title:"stufee",url:`teacher/${this.id}/stufee`,icon:"pi pi-file-word"},{active:!1,disable:!1,title:"fees Structure",url:`teacher/${this.id}/fees_detils`,icon:"pi pi-dollar"},{active:!1,disable:!1,title:"School Management",url:`teacher/${this.id}/school-manage`,icon:" fa-solid fa-square-poll-vertical"},{active:!0,disable:!1,title:"profile",url:`teacher/${this.id}/profile`,icon:"pi pi-user"},{active:!1,disable:!1,title:"logout",url:"/",icon:"pi pi-power-off"}],this.schoolNavList=[{active:!0,disable:!1,title:"profile",url:"profile",icon:"user"},{active:!1,title:"Student manegement",url:"/",icon:"calendar"},{active:!1,title:"Parent manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"Teacher manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"event manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"result manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"fees manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"library manegement",url:"/",icon:" fa-solid fa-square-poll-vertical"},{active:!1,title:"logout",url:"/",icon:" fa-solid fa-power-off"}],this.setSidenavbar(this.type),this._loaderAPI.loader$.subscribe(L=>{this.isloader=L})}ngOnInit(){this._store.dispatch(h.Jc()),this.userData$=this._store.select(v),this.userData$.subscribe(i=>{console.log("!!!!!!!!!!!!!! USER !!!!!!!!!!!!!:",i)})}setSidenavbar(i){switch(i){case"student":this.navlist=this.studentNavList;break;case"teacher":this.navlist=this.teacherNavList;break;case"parent":this.navlist=this.parentNavList;break;case"school":case"admin":this.navlist=this.schoolNavList;break;default:this.navlist=[]}}static#e=this.\u0275fac=function(n){return new(n||t)(e.rXU(r.nX),e.rXU(f.u),e.rXU(f.u),e.rXU(d.il))};static#t=this.\u0275cmp=e.VBU({type:t,selectors:[["app-user"]],decls:12,vars:4,consts:[[1,"container-fluid"],[1,"sidebar-toggle",3,"click"],[1,"row","inner-container",3,"ngClass"],[1,"col-sm-3","col-lg-2","sidebar",2,"box-shadow","2px 2px 7px #d9dce1"],[3,"navigation"],[1,"myschool-container",3,"ngClass"],["class","loader-container",4,"ngIf"],[1,"inner-pages"],[1,"loader-container"],[1,"loader"]],template:function(n,s){1&n&&(e.nrm(0,"app-inner-header"),e.j41(1,"section",0)(2,"button",1),e.bIt("click",function(){return s.isSidebarOpen=!s.isSidebarOpen}),e.EFF(3,">"),e.k0s(),e.j41(4,"div",2)(5,"div",3),e.nrm(6,"app-sidebar",4),e.k0s(),e.j41(7,"div",5),e.DNE(8,E,2,0,"div",6),e.j41(9,"section",7),e.nrm(10,"router-outlet"),e.k0s()()()(),e.nrm(11,"app-copyright")),2&n&&(e.R7$(4),e.Y8G("ngClass",s.isSidebarOpen?"sidebar-open":"sidebar-close"),e.R7$(2),e.Y8G("navigation",s.navlist),e.R7$(),e.Y8G("ngClass",s.isSidebarOpen?"col-sm-9 col-lg-10":"col-12"),e.R7$(),e.Y8G("ngIf",s.isloader))},dependencies:[o.YU,o.bT,r.n3,O,A,G.b],encapsulation:2})}return t})(),children:[{path:"student/:id",loadChildren:()=>Promise.all([a.e(773),a.e(314)]).then(a.bind(a,8314)).then(t=>t.StudentModule)},{path:"teacher/:id",loadChildren:()=>Promise.all([a.e(773),a.e(403)]).then(a.bind(a,9403)).then(t=>t.TutorModule)},{path:"parent/:id",loadChildren:()=>a.e(665).then(a.bind(a,5665)).then(t=>t.ParentModule)},{path:"school/:id",loadChildren:()=>a.e(109).then(a.bind(a,1109)).then(t=>t.SchoolModule)},{path:"admin/:id",loadChildren:()=>a.e(426).then(a.bind(a,9045)).then(t=>t.AdminModule)}]}];let U=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.$C({type:t});static#i=this.\u0275inj=e.G2t({imports:[r.iI.forChild(D),r.iI]})}return t})();var N=a(6306);let X=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.$C({type:t});static#i=this.\u0275inj=e.G2t({imports:[o.MD,U,r.iI,N.G]})}return t})()}}]);